# Итоговая проектная работа по программе «Инженер данных»

## Описание

Финальный проект курса «Инженер данных». В нем нужно организовать передачу данных из источника в хранилище. На основе этих данных сформировать витрину в Vertica.

Характер данных - данные банковского приложения о транзакционной активности клиентов внутри и между странами. Инфраструктура размещения данных - PostgreSQL.

Цель работы:
Реализовать пайплайн обработки данных из нескольких источников и полноценное хранилище для финтех-стартапа.

Выгрузить данные из PostgreSQL в DWH с помощью DAG в Airflow: обработать информацию в рамках ETL-процесса.

Хранение данных реализовать в Vertica.

Реализовать пайплайн формирования витрины с помощью Airflow и DAG.

## Этапы работы

- Подключиться к инфраструктуре проекта.
- Создать таблицы для хранилища данных.
- Создать пайплайн загрузки данных из систем-источников в staging-слой.
- Создать пайплайн обновления витрины данных.

## Описание рабочих файлов

Папка src/dags:

- 1_data_import.py - DAG, который поставляет данные из источника PostgreSQL в Vertica.

- 2_datamart_update.py - DAG формирования витрины в Vertica для ответов на вопросы бизнеса.

- stg_loader.py - код функции для выгрузки данных из postgres в csv, загрузки csv в бд vertica.

Папка src/sql:

- ddl_vertica_staging.sql - sql для создания таблиц staging слоя
- ddl_vertica_dwh.sql -sql для создания таблицы витрины
- update_metrica.sql - sql запрос заполнения витрины расчетными данными